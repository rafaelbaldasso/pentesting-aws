# pentesting-aws

## AWS CLI

|Configure||
|---|---|
|aws configure|Configure the AWS CLI with the AWS credential keys (optional: --profile NAME)|

|Account||
|---|---|
|aws sts get-access-key-info --access-key-id KEY|View the user's Account ID|
|aws sts get-caller-identity|View the user's UserId, Account ID and ARN|

|Secrets||
|---|---|
|aws secretsmanager list-secrets|List the secrets the user has access to|

|Policies||
|---|---|
|aws iam list-policies|List the organization's Policies|
|aws iam get-policy --policy-arn ARN|View a Policy's details (ARN obtained from the command above)|
|aws iam list-user-policies --user-name USER|List the user's policies|

|Groups||
|---|---|
|aws iam list-groups|List the organization's Groups|
|aws iam get-group --group-name GROUP|View a Group's details and members|
|aws iam list-groups-for-user --user-name USER|List the Groups the user is part of|
|aws iam add-user-to-group --group-name GROUP --user-name USER|Add user to a Group|
|aws iam remove-user-from-group --group-name GROUP --user-name USER|Remove user from a Group|

|S3 Buckets||
|---|---|
|aws s3 ls|List the organization's S3 Buckets|
|aws s3 ls s3://BUCKET/|List the files in the Bucket|
|aws s3 cp s3://BUCKET/ .|Download all the files from the Bucket|
|aws s3 cp s3://BUCKET/FILE .|Download specific file from the Bucket|
|aws s3 rm s3://BUCKET/FILE|Delete a file from the Bucket|

|EC2||
|---|---|
|aws ec2 describe-instances --output json|List EC2 instances details (optional: --region)|
|aws ec2 describe-snapshots|(--owner-id --region)|
